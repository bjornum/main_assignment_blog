{% extends "base.html" %} {% block title %}Home{% endblock %} {% block content
%}
<a href="{{ url_for('main.create_post') }}">+ Create New Post</a>
<form
  method="get"
  action="{{ url_for('main.home') }}"
  style="margin-bottom: 1rem"
>
  <input
    type="text"
    name="search"
    placeholder="Search posts..."
    value="{{ search_query }}"
  />
  <button type="submit">üîç Search</button>
</form>
<h2>All Blog Posts</h2>

{% for post in posts %}
<article>
  <h3>{{ post['title'] }}</h3>
  <small>Published: {{ post['pub_date'] }}</small>
  <p>{{ post['content'][:150] }}...</p>

  {% if post['tags'] %}
  <p>
    Tags: {% for tag in post['tags'].split(',') %}
    <a href="/tags/{{ tag|trim }}">{{ tag }}</a>
    {% endfor %}
  </p>
  {% endif %}

  <a href="/post/{{ post['id'] }}">Read more</a>
</article>
{% else %}
<p>No blog posts yet.</p>
{% endfor %} {% endblock %}
